(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(){var Liquid;module.exports=Liquid={VERSION:require("../package.json").version,Utils:require("./liquid/utils")(Liquid),Drop:require("./liquid/drop")(Liquid),Strainer:require("./liquid/strainer")(Liquid),Context:require("./liquid/context")(Liquid),Tag:require("./liquid/tag")(Liquid),Block:require("./liquid/block")(Liquid),Document:require("./liquid/document")(Liquid),Variable:require("./liquid/variable")(Liquid),BlankFileSystem:require("./liquid/blankfilesystem")(Liquid),LocalFileSystem:require("./liquid/localfilesystem")(Liquid),Template:require("./liquid/template")(Liquid),StandardFilters:require("./liquid/standardfilters")(Liquid),Condition:require("./liquid/condition")(Liquid),ElseCondition:require("./liquid/elsecondition")(Liquid),Assign:require("./liquid/tags/assign")(Liquid),Tags:{Capture:require("./liquid/tags/capture")(Liquid),Case:require("./liquid/tags/case")(Liquid),Comment:require("./liquid/tags/comment")(Liquid),Cycle:require("./liquid/tags/cycle")(Liquid),Decrement:require("./liquid/tags/decrement")(Liquid),For:require("./liquid/tags/for")(Liquid),If:require("./liquid/tags/if")(Liquid),IfChanged:require("./liquid/tags/ifchanged")(Liquid),Include:require("./liquid/tags/include")(Liquid),Increment:require("./liquid/tags/increment")(Liquid),Unless:require("./liquid/tags/unless")(Liquid)}}}).call(this)},{"../package.json":29,"./liquid/blankfilesystem":2,"./liquid/block":3,"./liquid/condition":4,"./liquid/context":5,"./liquid/document":6,"./liquid/drop":7,"./liquid/elsecondition":8,"./liquid/localfilesystem":9,"./liquid/standardfilters":10,"./liquid/strainer":11,"./liquid/tag":12,"./liquid/tags/assign":13,"./liquid/tags/capture":14,"./liquid/tags/case":15,"./liquid/tags/comment":16,"./liquid/tags/cycle":17,"./liquid/tags/decrement":18,"./liquid/tags/for":19,"./liquid/tags/if":20,"./liquid/tags/ifchanged":21,"./liquid/tags/include":22,"./liquid/tags/increment":23,"./liquid/tags/unless":24,"./liquid/template":25,"./liquid/utils":26,"./liquid/variable":27}],2:[function(require,module,exports){(function(){module.exports=function(Liquid){var BlankFileSystem;return BlankFileSystem=function(){function BlankFileSystem(){}BlankFileSystem.prototype.readTemplateFile=function(path){throw"This liquid context does not allow includes."};return BlankFileSystem}()}}).call(this)},{}],3:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Block;return Block=function(_super){var ContentOfVariable,FullToken,IsTag,IsVariable;__extends(Block,_super);IsTag=/^\{\%/;IsVariable=/^\{\{/;FullToken=/^\{\%\s*(\w+)\s*(.*)?\%\}$/;ContentOfVariable=/^\{\{(.*)\}\}$/;function Block(tagName,markup,tokens){this.blockName=tagName;this.blockDelimiter="end"+this.blockName;Block.__super__.constructor.call(this,tagName,markup,tokens)}Block.prototype.parse=function(tokens){var tagParts,token;this.nodelist||(this.nodelist=[]);this.nodelist.length=0;token=tokens.shift();tokens.push("");while(tokens.length){if(IsTag.test(token)){if((tagParts=token.match(FullToken))!=null){if(this.blockDelimiter===tagParts[1]){this.endTag();return}if(tagParts[1]in Liquid.Template.tags){this.nodelist.push(new Liquid.Template.tags[tagParts[1]](tagParts[1],tagParts[2],tokens))}else{this.unknownTag(tagParts[1],tagParts[2],tokens)}}else{throw"Tag '"+token+"' was not properly terminated with: %}"}}else if(IsVariable.test(token)){this.nodelist.push(this.createVariable(token))}else{this.nodelist.push(token)}token=tokens.shift()}return this.assertMissingDelimitation()};Block.prototype.endTag=function(){};Block.prototype.unknownTag=function(tag,params,tokens){switch(tag){case"else":throw this.blockName+" tag does not expect else tag";break;case"end":throw"'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter;break;default:throw"Unknown tag: "+tag}};Block.prototype.createVariable=function(token){var match;if((match=token.match(ContentOfVariable))!=null){return new Liquid.Variable(match[1])}else{throw"Variable '"+token+"' was not properly terminated with: }}"}};Block.prototype.render=function(context){return this.renderAll(this.nodelist,context)};Block.prototype.renderAll=function(list,context){return(list||[]).map(function(token,i){var e,output;output="";try{output=token["render"]?token.render(context):token}catch(_error){e=_error;output=context.handleError(e)}return output})};Block.prototype.assertMissingDelimitation=function(){throw this.blockName+" tag was never closed"};return Block}(Liquid.Tag)}}).call(this)},{}],4:[function(require,module,exports){(function(){module.exports=function(Liquid){var Condition;return Condition=function(){Condition.operators={"==":function(l,r){return l===r},"=":function(l,r){return l===r},"!=":function(l,r){return l!==r},"<>":function(l,r){return l!==r},"<":function(l,r){return l<r},">":function(l,r){return l>r},"<=":function(l,r){return l<=r},">=":function(l,r){return l>=r},contains:function(l,r){return l.match(r)},hasKey:function(l,r){return l[r]!=null},hasValue:function(l,r){var p;for(p in l){if(l[p]===r){return true}}return false}};function Condition(left,operator,right){this.left=left;this.operator=operator;this.right=right;this.childRelation=null;this.childCondition=null;this.attachment=null}Condition.prototype.evaluate=function(context){var result;context=context||new Context;result=this.interpretCondition(this.left,this.right,this.operator,context);switch(this.childRelation){case"or":return result||this.childCondition.evaluate(context);case"and":return result&&this.childCondition.evaluate(context);default:return result}};Condition.prototype.or=function(condition){this.childRelation="or";return this.childCondition=condition};Condition.prototype.and=function(condition){this.childRelation="and";return this.childCondition=condition};Condition.prototype.attach=function(attachment){this.attachment=attachment;return this.attachment};Condition.prototype.isElse=false;Condition.prototype.interpretCondition=function(left,right,op,context){var results;if(!op){return context.get(left)}left=context.get(left);right=context.get(right);op=Condition.operators[op];if(!op){throw"Unknown operator "+op}results=op(left,right);return results};Condition.prototype.toString=function(){return"<Condition "+this.left+" "+this.operator+" "+this.right+">"};return Condition}()}}).call(this)},{}],5:[function(require,module,exports){(function(){module.exports=function(Liquid){var Context;return Context=function(){function Context(assigns,registers,rethrowErrors){this.scopes=[assigns?assigns:{}];this.registers=registers?registers:{};this.errors=[];this.rethrowErrors=rethrowErrors;this.strainer=Liquid.Strainer.create(this)}Context.prototype.get=function(varname){return this.resolve(varname)};Context.prototype.set=function(varname,value){return this.scopes[0][varname]=value};Context.prototype.hasKey=function(key){if(this.resolve(key)){return true}else{return false}};Context.prototype.push=function(){var scpObj;scpObj={};this.scopes.unshift(scpObj);return scpObj};Context.prototype.merge=function(newScope){var key,val,_results;_results=[];for(key in newScope){val=newScope[key];_results.push(this.scopes[0][key]=val)}return _results};Context.prototype.pop=function(){if(this.scopes.length===1){throw"Context stack error"}return this.scopes.shift()};Context.prototype.stack=function(lambda,bind){var result;result=null;this.push();try{result=lambda.apply(bind?bind:this.strainer)}finally{this.pop()}return result};Context.prototype.invoke=function(method,args){var result;if(this.strainer.respondTo(method)){result=this.strainer[method].apply(this.strainer,args);return result}else{if(args.length===0){return null}else{return args[0]}}};Context.prototype.resolve=function(key){var arr,i,left,limit,range,result,right;switch(key){case null:case"nil":case"null":case"":return null;case"true":return true;case"false":return false;case"blank":case"empty":return"";default:if(/^'(.*)'$/.test(key)){return key.replace(/^'(.*)'$/,"$1")}else if(/^"(.*)"$/.test(key)){return key.replace(/^"(.*)"$/,"$1")}else if(/^(\d+)$/.test(key)){return parseInt(key.replace(/^(\d+)$/,"$1"))}else if(/^(\d[\d\.]+)$/.test(key)){return parseFloat(key.replace(/^(\d[\d\.]+)$/,"$1"))}else if(/^\((\S+)\.\.(\S+)\)$/.test(key)){range=key.match(/^\((\S+)\.\.(\S+)\)$/);left=parseInt(range[1]);right=parseInt(range[2]);arr=[];if(isNaN(left)||isNaN(right)){left=range[1].charCodeAt(0);right=range[2].charCodeAt(0);limit=right-left+1;i=0;while(i<limit){arr.push(String.fromCharCode(i+left));i++}}else{limit=right-left+1;i=0;while(i<limit){arr.push(i+left);i++}}return arr}else{result=this.variable(key);return result}}};Context.prototype.findVariable=function(key){var i,scope,variable;i=0;while(i<this.scopes.length){scope=this.scopes[i];if(scope&&typeof scope[key]!=="undefined"){variable=scope[key];if(typeof variable==="function"){variable=variable.apply(this);scope[key]=variable}if(variable&&typeof variable==="object"&&"toLiquid"in variable){variable=variable.toLiquid()}if(variable&&typeof variable==="object"&&"setContext"in variable){variable.setContext(self)}return variable}i++}return null};Context.prototype.variable=function(markup){var firstPart,object,parts,self,squareMatch;if(typeof markup!=="string"){return null}parts=markup.match(/\[[^\]]+\]|(?:[\w\-]\??)+/g);firstPart=parts.shift();squareMatch=firstPart.match(/^\[(.*)\]$/);if(squareMatch){firstPart=this.resolve(squareMatch[1])}object=this.findVariable(firstPart);self=this;if(object){parts.forEach(function(part){var pos,res;squareMatch=part.match(/^\[(.*)\]$/);if(squareMatch){part=self.resolve(squareMatch[1]);if(typeof object[part]==="function"){object[part]=object[part].apply(this)}object=object[part];if(typeof object==="object"&&"toLiquid"in object){return object=object.toLiquid()}}else{if((typeof object==="object"||typeof object==="hash")&&part in object){res=object[part];if(typeof res==="function"){res=object[part]=res.apply(self)}if(typeof res==="object"&&"toLiquid"in res){object=res.toLiquid()}else{object=res}}else if(/^\d+$/.test(part)){pos=parseInt(part);if(typeof object[pos]==="function"){object[pos]=object[pos].apply(self)}if(typeof object[pos]==="object"&&typeof object[pos]==="object"&&"toLiquid"in object[pos]){object=object[pos].toLiquid()}else{object=object[pos]}}else if(object&&typeof object[part]==="function"&&(part==="length"||part==="size"||part==="first"||part==="last")){object=object[part].apply(part);if("toLiquid"in object){object=object.toLiquid()}}else{return object=null}if(typeof object==="object"&&"setContext"in object){return object.setContext(self)}}})}return object};Context.prototype.addFilters=function(filters){filters=Liquid.Utils.flatten(filters);return filters.forEach(function(f){if(typeof f!=="object"){throw"Expected object but got: "+typeof f}return this.strainer.addMethods(f)})};Context.prototype.handleError=function(err){this.errors.push(err);if(this.rethrowErrors){throw err}return"Liquid error: "+(err.message?err.message:err.description?err.description:err)};return Context}()}}).call(this)},{}],6:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Document;return Document=function(_super){__extends(Document,_super);function Document(tokens){this.blockDelimiter=[];this.parse(tokens)}Document.prototype.assertMissingDelimitation=function(){};return Document}(Liquid.Block)}}).call(this)},{}],7:[function(require,module,exports){(function(){module.exports=function(Liquid){var Drop;return Drop=function(){function Drop(){}Drop.prototype.setContext=function(context){return this.context=context};Drop.prototype.beforeMethod=function(method){};Drop.prototype.invokeDrop=function(method){var results;results=this.beforeMethod();if(!results&&method in this){results=this[method].apply(this)}return results};Drop.prototype.hasKey=function(name){return true};return Drop}()}}).call(this)},{}],8:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var ElseCondition,_ref;return ElseCondition=function(_super){__extends(ElseCondition,_super);function ElseCondition(){_ref=ElseCondition.__super__.constructor.apply(this,arguments);return _ref}ElseCondition.prototype.isElse=true;ElseCondition.prototype.evaluate=function(context){return true};ElseCondition.prototype.toString=function(){return"<ElseCondition>"};return ElseCondition}(Liquid.Condition)}}).call(this)},{}],9:[function(require,module,exports){(function(){var fs,path;fs=require("fs");path=require("path");module.exports=function(Liquid){var LocalFileSystem;return LocalFileSystem=function(){function LocalFileSystem(root){this.root=root}LocalFileSystem.prototype.readTemplateFile=function($template){return String(fs.readFileSync(path.resolve(this.root,$template)))};return LocalFileSystem}()}}).call(this)},{fs:30,path:32}],10:[function(require,module,exports){(function(){var strftime;strftime=require("strftime");module.exports=function(Liquid){var StandardFilters;StandardFilters={size:function(iterable){if(iterable["length"]){return iterable.length}else{return 0}},downcase:function(input){return input.toString().toLowerCase()},upcase:function(input){return input.toString().toUpperCase()},capitalize:function(input){var str;str=input.toString();return str.charAt(0).toUpperCase()+str.substring(1).toLowerCase()},escape:function(input){input=input.toString();input=input.replace(/&/g,"&amp;");input=input.replace(/</g,"&lt;");input=input.replace(/>/g,"&gt;");input=input.replace(/"/g,"&quot;");return input},h:function(input){input=input.toString();input=input.replace(/&/g,"&amp;");input=input.replace(/</g,"&lt;");input=input.replace(/>/g,"&gt;");input=input.replace(/"/g,"&quot;");return input},truncate:function(input,length,string){var seg;if(!input||input===""){return""}length=length||50;string=string||"...";seg=input.slice(0,length);if(input.length>length){return input.slice(0,length)+string}else{return input}},truncatewords:function(input,words,string){var l,wordlist;if(!input||input===""){return""}words=parseInt(words||15);string=string||"...";wordlist=input.toString().split(" ");l=Math.max(words,0);if(wordlist.length>l){return wordlist.slice(0,l).join(" ")+string}else{return input}},truncate_words:function(input,words,string){var l,wordlist;if(!input||input===""){return""}words=parseInt(words||15);string=string||"...";wordlist=input.toString().split(" ");l=Math.max(words,0);if(wordlist.length>l){return wordlist.slice(0,l).join(" ")+string}else{return input}},strip_html:function(input){return input.toString().replace(/<.*?>/g,"")},strip_newlines:function(input){return input.toString().replace(/\n/g,"")},join:function(input,separator){separator=separator||" ";return input.join(separator)},split:function(input,separator){separator=separator||" ";return input.split(separator)},sort:function(input){return input.sort()},reverse:function(input){return input.reverse()},replace:function(input,string,replacement){replacement=replacement||"";return input.toString().replace(new RegExp(string,"g"),replacement)},replace_first:function(input,string,replacement){replacement=replacement||"";return input.toString().replace(new RegExp(string,""),replacement)},newline_to_br:function(input){return input.toString().replace(/\n/g,"<br/>\n")},date:function(input,format){var date;date=void 0;if(input instanceof Date){date=input}if(!(date instanceof Date)&&input==="now"){date=new Date}if(!(date instanceof Date)){date=new Date(input)}if(!(date instanceof Date)){date=new Date(Date.parse(input))}if(!(date instanceof Date)){return input}return strftime(format,date)},first:function(input){return input[0]},last:function(input){input=input;return input[input.length-1]}};return Liquid.Template.registerFilter(StandardFilters)}}).call(this)},{strftime:28}],11:[function(require,module,exports){(function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};module.exports=function(Liquid){var Strainer;return Strainer=function(){Strainer.filters={};Strainer.globalFilter=function(filters){var f,_results;_results=[];for(f in filters){_results.push(Strainer.filters[f]=filters[f])}return _results};Strainer.requiredMethods=["respondTo","context"];Strainer.create=function(context){var f,strainer;strainer=new Strainer(context);for(f in Strainer.filters){strainer[f]=Strainer.filters[f]}return strainer};function Strainer(context){this.context=context}Strainer.prototype.respondTo=function(methodName){methodName=methodName.toString();if(methodName.match(/^__/)){return false}if(__indexOf.call(Strainer.requiredMethods,methodName)>=0){return false}if(this[methodName]!=null){return true}else{return false}};return Strainer}()}}).call(this)},{}],12:[function(require,module,exports){(function(){module.exports=function(Liquid){var Tag;return Tag=function(){function Tag(tagName,markup,tokens){this.tagName=tagName;this.markup=markup;this.nodelist=this.nodelist||[];this.parse(tokens)}Tag.prototype.parse=function(tokens){};Tag.prototype.render=function(context){return""};return Tag}()}}).call(this)},{}],13:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Assign;Assign=function(_super){__extends(Assign,_super);Assign.prototype.tagSyntax=/((?:\(?[\w\-\.\[\]]\)?)+)\s*=\s*((?:"[^"]+"|'[^']+'|[^\s,|]+)+)/;function Assign(tagName,markup,tokens){var parts;parts=markup.match(this.tagSyntax);if(parts){this.to=parts[1];this.from=parts[2]}else{throw"Syntax error in 'assign' - Valid syntax: assign [var] = [source]"}Assign.__super__.constructor.call(this,tagName,markup,tokens)}Assign.prototype.render=function(context){context.scopes[context.scopes.length-1][this.to.toString()]=context.get(this.from);return""};return Assign}(Liquid.Tag);return Liquid.Template.registerTag("assign",Assign)}}).call(this)},{}],14:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Capture;Capture=function(_super){__extends(Capture,_super);Capture.prototype.tagSyntax=/(\w+)/;function Capture(tagName,markup,tokens){var parts;parts=markup.match(this.tagSyntax);if(parts){this.to=parts[1]}else{throw"Syntax error in 'capture' - Valid syntax: capture [var]"}Capture.__super__.constructor.call(this,tagName,markup,tokens)}Capture.prototype.render=function(context){var output;output=Capture.__super__.render.call(this,context);context.set(this.to,Liquid.Utils.flatten([output]).join(""));return""};return Capture}(Liquid.Block);return Liquid.Template.registerTag("capture",Capture)}}).call(this)},{}],15:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Case;Case=function(_super){__extends(Case,_super);Case.prototype.tagSyntax=/("[^"]+"|'[^']+'|[^\s,|]+)/;Case.prototype.tagWhenSyntax=/("[^"]+"|'[^']+'|[^\s,|]+)(?:(?:\s+or\s+|\s*\,\s*)("[^"]+"|'[^']+'|[^\s,|]+.*))?/;function Case(tagName,markup,tokens){var parts;this.blocks=[];this.nodelist=[];parts=markup.match(this.tagSyntax);if(parts){this.left=parts[1]}else{throw"Syntax error in 'case' - Valid syntax: case [condition]"}Case.__super__.constructor.call(this,tagName,markup,tokens)}Case.prototype.unknownTag=function(tag,markup,tokens){switch(tag){case"when":return this.recordWhenCondition(markup);case"else":return this.recordElseCondition(markup);default:return Case.__super__.unknownTag.call(this,tag,markup,tokens)}};Case.prototype.render=function(context){var execElseBlock,output,_this=this;output=[];execElseBlock=true;context.stack(function(){var block,i;i=0;while(i<_this.blocks.length){block=_this.blocks[i];if(block.isElse){if(execElseBlock===true){output=Liquid.Utils.flatten([output,_this.renderAll(block.attachment,context)])}return output}else if(block.evaluate(context)){execElseBlock=false;output=Liquid.Utils.flatten([output,_this.renderAll(block.attachment,context)])}i++}});return output};Case.prototype.recordWhenCondition=function(markup){var block,parts,_results;_results=[];while(markup){parts=markup.match(this.tagWhenSyntax);if(!parts){throw"Syntax error in tag 'case' - Valid when condition: {% when [condition] [or condition2...] %} "}markup=parts[2];block=new Liquid.Condition(this.left,"==",parts[1]);this.blocks.push(block);_results.push(this.nodelist=block.attach([]))}return _results};Case.prototype.recordElseCondition=function(markup){var block;if((markup||"").trim()!==""){throw"Syntax error in tag 'case' - Valid else condition: {% else %} (no parameters) "}block=new Liquid.ElseCondition;this.blocks.push(block);return this.nodelist=block.attach([])};return Case}(Liquid.Block);return Liquid.Template.registerTag("case",Case)}}).call(this)},{}],16:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Comment,_ref;Comment=function(_super){__extends(Comment,_super);function Comment(){_ref=Comment.__super__.constructor.apply(this,arguments);return _ref}Comment.prototype.render=function(context){return""};return Comment}(Liquid.Block);return Liquid.Template.registerTag("comment",Comment)}}).call(this)},{}],17:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Cycle;Cycle=function(_super){__extends(Cycle,_super);Cycle.prototype.tagSimpleSyntax=/"[^"]+"|'[^']+'|[^\s,|]+/;Cycle.prototype.tagNamedSyntax=/("[^"]+"|'[^']+'|[^\s,|]+)\s*\:\s*(.*)/;function Cycle(tag,markup,tokens){var matches,variables;matches=void 0;variables=void 0;matches=markup.match(this.tagNamedSyntax);if(matches){this.variables=this.variablesFromString(matches[2]);this.name=matches[1]}else{matches=markup.match(this.tagSimpleSyntax);if(matches){this.variables=this.variablesFromString(markup);this.name="'"+this.variables.toString()+"'"}else{throw"Syntax error in 'cycle' - Valid syntax: cycle [name :] var [, var2, var3 ...]"}}Cycle.__super__.constructor.call(this,tag,markup,tokens)}Cycle.prototype.render=function(context){var key,output,_this=this;key=context.get(this.name);output="";if(!context.registers["cycle"]){context.registers["cycle"]={}}if(!context.registers["cycle"][key]){context.registers["cycle"][key]=0}context.stack(function(){var iter,results;iter=context.registers["cycle"][key];results=context.get(_this.variables[iter]);iter+=1;if(iter===_this.variables.length){iter=0}context.registers["cycle"][key]=iter;return output=results});return output};Cycle.prototype.variablesFromString=function(markup){return markup.split(",").map(function(varname){var match;match=varname.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)\s*/);if(match[1]){return match[1]}else{return null}})};return Cycle}(Liquid.Tag);return Liquid.Template.registerTag("cycle",Cycle)}}).call(this)},{}],18:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Decrement;Decrement=function(_super){__extends(Decrement,_super);function Decrement(tagName,markup,tokens){this.variable=markup.trim();Decrement.__super__.constructor.call(this,tagName,markup,tokens)}Decrement.prototype.render=function(context){var value,_base,_name;value=(_base=context.scopes[0])[_name=this.variable]||(_base[_name]=0);value=value-1;context.scopes[0][this.variable]=value;return value.toString()};return Decrement}(Liquid.Tag);return Liquid.Template.registerTag("decrement",Decrement)}}).call(this)},{}],19:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var For;For=function(_super){__extends(For,_super);For.prototype.tagSyntax=/(\w+)\s+in\s+((?:\(?[\w\-\.\[\]]\)?)+)/;function For(tag,markup,tokens){var attMatchs,attrmarkup,matches;matches=markup.match(this.tagSyntax);if(matches){this.variableName=matches[1];this.collectionName=matches[2];this.name=this.variableName+"-"+this.collectionName;this.attributes={};attrmarkup=markup.replace(this.tagSyntax,"");attMatchs=markup.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);if(attMatchs){attMatchs.forEach(function(pair){pair=pair.split(":");return this.attributes[pair[0].trim()]=pair[1].trim()},this)}}else{throw"Syntax error in 'for loop' - Valid syntax: for [item] in [collection]"}For.__super__.constructor.call(this,tag,markup,tokens)}For.prototype.render=function(context){var collection,limit,offset,output,range,rangeEnd,segment,_this=this;output=[];collection=context.get(this.collectionName)||[];range=[0,collection.length];if(!context.registers["for"]){context.registers["for"]={}}if(this.attributes["limit"]||this.attributes["offset"]){offset=0;limit=0;rangeEnd=0;segment=null;if(this.attributes["offset"]==="continue"){offset=context.registers["for"][this.name]}else{offset=context.get(this.attributes["offset"])||0}limit=context.get(this.attributes["limit"]);rangeEnd=limit?offset+limit+1:collection.length;range=[offset,rangeEnd-1];context.registers["for"][this.name]=rangeEnd}segment=collection.slice(range[0],range[1]);if(!segment||segment.length===0){return""}context.stack(function(){var length;length=segment.length;return segment.forEach(function(item,index){context.set(_this.variableName,item);context.set("forloop",{name:_this.name,length:length,index:index+1,index0:index,rindex:length-index,rindex0:length-index-1,first:index===0,last:index===length-1});return output.push((_this.renderAll(_this.nodelist,context)||[]).join(""))})});return Liquid.Utils.flatten([output]).join("")};return For}(Liquid.Block);return Liquid.Template.registerTag("for",For)}}).call(this)},{}],20:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var If;If=function(_super){__extends(If,_super);If.prototype.tagSyntax=/("[^"]+"|'[^']+'|[^\s,|]+)\s*([=!<>a-z_]+)?\s*("[^"]+"|'[^']+'|[^\s,|]+)?/;function If(tag,markup,tokens){this.nodelist=[];this.blocks=[];this.pushBlock("if",markup);If.__super__.constructor.call(this,tag,markup,tokens)}If.prototype.unknownTag=function(tag,markup,tokens){if(tag==="elsif"||tag==="else"){return this.pushBlock(tag,markup)}else{return If.__super__.unknownTag.call(this,tag,markup,tokens)}};If.prototype.render=function(context){var output,_this=this;output="";context.stack(function(){var block,i;i=0;while(i<_this.blocks.length){block=_this.blocks[i];if(block.evaluate(context)){output=_this.renderAll(block.attachment,context);return}i++}});return Liquid.Utils.flatten([output]).join("")};If.prototype.pushBlock=function(tag,markup){var block,condition,expMatches,expressions,newCondition,operator;block=void 0;if(tag==="else"){block=new ElseCondition}else{expressions=markup.split(/\b(and|or)\b/).reverse();expMatches=expressions.shift().match(this.tagSyntax);if(!expMatches){throw"Syntax Error in tag '"+tag+"' - Valid syntax: "+tag+" [expression]"}condition=new Condition(expMatches[1],expMatches[2],expMatches[3]);while(expressions.length>0){operator=expressions.shift();expMatches=expressions.shift().match(this.tagSyntax);if(!expMatches){throw"Syntax Error in tag '"+tag+"' - Valid syntax: "+tag+" [expression]"}newCondition=new Condition(expMatches[1],expMatches[2],expMatches[3]);newCondition[operator](condition);condition=newCondition}block=condition}block.attach([]);this.blocks.push(block);return this.nodelist=block.attachment};return If}(Liquid.Block);return Liquid.Template.registerTag("if",If)}}).call(this)},{}],21:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var IfChanged,_ref;IfChanged=function(_super){__extends(IfChanged,_super);function IfChanged(){_ref=IfChanged.__super__.constructor.apply(this,arguments);return _ref}IfChanged.prototype.render=function(context){var output,_this=this;output="";context.stack(function(){var results;results=_this.renderAll(_this.nodelist,context).join("");if(results!==context.registers["ifchanged"]){output=results;return context.registers["ifchanged"]=output}});return output};return IfChanged}(Liquid.Block);return Liquid.Template.registerTag("ifchanged",IfChanged)}}).call(this)},{}],22:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Include;Include=function(_super){__extends(Include,_super);Include.prototype.tagSyntax=/((?:"[^"]+"|'[^']+'|[^\s,|]+)+)(\s+(?:with|for)\s+((?:"[^"]+"|'[^']+'|[^\s,|]+)+))?/;
function Include(tag,markup,tokens){var attMatchs,matches;matches=(markup||"").match(this.tagSyntax);if(matches){this.templateName=matches[1];this.templateNameVar=this.templateName.substring(1,this.templateName.length-1);this.variableName=matches[3];this.attributes={};attMatchs=markup.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);if(attMatchs){attMatchs.forEach(function(pair){pair=pair.split(":");return this.attributes[pair[0].trim()]=pair[1].trim()},this)}}else{throw"Error in tag 'include' - Valid syntax: include '[template]' (with|for) [object|collection]"}Include.__super__.constructor.call(this,tag,markup,tokens)}Include.prototype.render=function(context){var output,partial,source,variable,_this=this;source=Template.fileSystem.readTemplateFile(context.get(this.templateName));partial=Template.parse(source);variable=context.get(this.variableName||this.templateNameVar);output="";context.stack(function(){_this.attributes.forEach=function(fun){var i,key,pair,thisp,value;if(typeof fun!=="function"){throw"Object.forEach requires first argument to be a function"}i=0;thisp=arguments[1];for(key in this){value=this[key];pair=[key,value];pair.key=key;pair.value=value;fun.call(thisp,pair,i,this);i++}return null};_this.attributes.forEach(function(pair){return context.set(pair.key,context.get(pair.value))});if(variable instanceof Array){return output=variable.map(function(variable){context.set(this.templateNameVar,variable);return partial.render(context)})}else{context.set(_this.templateNameVar,variable);return output=partial.render(context)}});return output=Liquid.Utils.flatten([output]).join("")};return Include}(Liquid.Tag);return Liquid.Template.registerTag("include",Include)}}).call(this)},{}],23:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Increment;Increment=function(_super){__extends(Increment,_super);function Increment(tagName,markup,tokens){this.variable=markup.trim();Increment.__super__.constructor.call(this,tagName,markup,tokens)}Increment.prototype.render=function(context){var value,_base,_name;value=(_base=context.scopes[0])[_name=this.variable]||(_base[_name]=0);value=value+1;context.scopes[0][this.variable]=value;return value.toString()};return Increment}(Liquid.Tag);return Liquid.Template.registerTag("increment",Increment)}}).call(this)},{}],24:[function(require,module,exports){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};module.exports=function(Liquid){var Unless,_ref;Unless=function(_super){__extends(Unless,_super);function Unless(){_ref=Unless.__super__.constructor.apply(this,arguments);return _ref}Unless.prototype.render=function(context){var output,_this=this;output="";context.stack(function(){var block,i;block=_this.blocks[0];if(!block.evaluate(context)){output=_this.renderAll(block.attachment,context);return}i=1;while(i<_this.blocks.length){block=_this.blocks[i];if(block.evaluate(context)){output=_this.renderAll(block.attachment,context);return}i++}});return Liquid.Utils.flatten([output]).join("")};return Unless}(Liquid.Tags.If);return Liquid.Template.registerTag("unless",Unless)}}).call(this)},{}],25:[function(require,module,exports){(function(){module.exports=function(Liquid){var Template;return Template=function(){Template.fileSystem=new Liquid.BlankFileSystem;Template.tags={};Template.registerTag=function(name,klass){return Liquid.Template.tags[name]=klass};Template.registerFilter=function(filters){return Liquid.Strainer.globalFilter(filters)};Template.tokenize=function(src){var tokens;tokens=src.split(/(\{\%.*?\%\}|\{\{.*?\}\}?)/);if(tokens[0]===""){tokens.shift()}return tokens};Template.parse=function(src){return(new Liquid.Template).parse(src)};function Template(){this.root=null;this.registers={};this.assigns={};this.errors=[];this.rethrowErrors=false}Template.prototype.parse=function(src){this.root=new Liquid.Document(Liquid.Template.tokenize(src));return this};Template.prototype.render=function(){var args,context,key,val,_ref,_ref1;if(!this.root){return""}args={ctx:arguments[0],filters:arguments[1],registers:arguments[2]};context=null;if(args.ctx instanceof Liquid.Context){context=args.ctx;this.assigns=context.assigns;this.registers=context.registers}else{_ref=args.ctx;for(key in _ref){val=_ref[key];this.assigns[key]=val}_ref1=args.registers;for(key in _ref1){val=_ref1[key];this.registers[key]=val}context=new Liquid.Context(this.assigns,this.registers,this.rethrowErrors)}if(args.filters){context.addFilters(arg.filters)}try{return this.root.render(context).join("")}finally{this.errors=context.errors}};Template.prototype.renderWithErrors=function(){var res,savedRethrowErrors;savedRethrowErrors=this.rethrowErrors;this.rethrowErrors=true;res=this.render.apply(this,arguments);this.rethrowErrors=savedRethrowErrors;return res};return Template}()}}).call(this)},{}],26:[function(require,module,exports){(function(){module.exports=function(Liquid){var flatten;return{flatten:flatten=function($list){var $a,$item,_i,_len;if($list==null){return[]}$a=[];for(_i=0,_len=$list.length;_i<_len;_i++){$item=$list[_i];if(Array.isArray($item)){$a=$a.concat(flatten($item))}else{$a.push($item)}}return $a}}}}).call(this)},{}],27:[function(require,module,exports){(function(){module.exports=function(Liquid){var Variable;return Variable=function(){function Variable(markup){var filterMatches,filters,match,self;this.markup=markup;this.name=null;this.filters=[];self=this;match=markup.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)/);if(match){this.name=match[1];filterMatches=markup.match(/\|\s*(.*)/);if(filterMatches){filters=filterMatches[1].split(/\|/);filters.forEach(function(f){var filterArgs,filterName,matches;matches=f.match(/\s*(\w+)/);if(matches){filterName=matches[1];filterArgs=[];Liquid.Utils.flatten(f.match(/(?:[:|,]\s*)("[^"]+"|'[^']+'|[^\s,|]+)/g)||[]).forEach(function(arg){var cleanupMatch;cleanupMatch=arg.match(/^[\s|:|,]*(.*?)[\s]*$/);if(cleanupMatch){return filterArgs.push(cleanupMatch[1])}});return self.filters.push([filterName,filterArgs])}})}}}Variable.prototype.render=function(context){var output;if(this.name==null){return""}output=context.get(this.name);this.filters.forEach(function(filter){var filterArgs,filterName;filterName=filter[0];filterArgs=(filter[1]||[]).map(function(arg){return context.get(arg)});filterArgs.unshift(output);return output=context.invoke(filterName,filterArgs)});return output};return Variable}()}}).call(this)},{}],28:[function(require,module,exports){(function(){var namespace;if(typeof module!=="undefined"){namespace=module.exports=strftime}else{namespace=function(){return this||(1,eval)("this")}()}function words(s){return(s||"").split(" ")}var DefaultLocale={days:words("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:words("Sun Mon Tue Wed Thu Fri Sat"),months:words("January February March April May June July August September October November December"),shortMonths:words("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};namespace.strftime=strftime;function strftime(fmt,d,locale){return _strftime(fmt,d,locale)}namespace.strftimeTZ=strftime.strftimeTZ=strftimeTZ;function strftimeTZ(fmt,d,locale,timezone){if(typeof locale=="number"&&timezone==null){timezone=locale;locale=undefined}return _strftime(fmt,d,locale,{timezone:timezone})}namespace.strftimeUTC=strftime.strftimeUTC=strftimeUTC;function strftimeUTC(fmt,d,locale){return _strftime(fmt,d,locale,{utc:true})}namespace.localizedStrftime=strftime.localizedStrftime=localizedStrftime;function localizedStrftime(locale){return function(fmt,d,options){return strftime(fmt,d,locale,options)}}function _strftime(fmt,d,locale,options){options=options||{};if(d&&!quacksLikeDate(d)){locale=d;d=undefined}d=d||new Date;locale=locale||DefaultLocale;locale.formats=locale.formats||{};var timestamp=d.getTime();if(options.utc||typeof options.timezone=="number"){d=dateToUTC(d)}if(typeof options.timezone=="number"){d=new Date(d.getTime()+options.timezone*6e4)}return fmt.replace(/%([-_0]?.)/g,function(_,c){var mod,padding;if(c.length==2){mod=c[0];if(mod=="-"){padding=""}else if(mod=="_"){padding=" "}else if(mod=="0"){padding="0"}else{return _}c=c[1]}switch(c){case"A":return locale.days[d.getDay()];case"a":return locale.shortDays[d.getDay()];case"B":return locale.months[d.getMonth()];case"b":return locale.shortMonths[d.getMonth()];case"C":return pad(Math.floor(d.getFullYear()/100),padding);case"D":return _strftime(locale.formats.D||"%m/%d/%y",d,locale);case"d":return pad(d.getDate(),padding);case"e":return d.getDate();case"F":return _strftime(locale.formats.F||"%Y-%m-%d",d,locale);case"H":return pad(d.getHours(),padding);case"h":return locale.shortMonths[d.getMonth()];case"I":return pad(hours12(d),padding);case"j":var y=new Date(d.getFullYear(),0,1);var day=Math.ceil((d.getTime()-y.getTime())/(1e3*60*60*24));return pad(day,3);case"k":return pad(d.getHours(),padding==null?" ":padding);case"L":return pad(Math.floor(timestamp%1e3),3);case"l":return pad(hours12(d),padding==null?" ":padding);case"M":return pad(d.getMinutes(),padding);case"m":return pad(d.getMonth()+1,padding);case"n":return"\n";case"o":return String(d.getDate())+ordinal(d.getDate());case"P":return d.getHours()<12?locale.am:locale.pm;case"p":return d.getHours()<12?locale.AM:locale.PM;case"R":return _strftime(locale.formats.R||"%H:%M",d,locale);case"r":return _strftime(locale.formats.r||"%I:%M:%S %p",d,locale);case"S":return pad(d.getSeconds(),padding);case"s":return Math.floor(timestamp/1e3);case"T":return _strftime(locale.formats.T||"%H:%M:%S",d,locale);case"t":return"	";case"U":return pad(weekNumber(d,"sunday"),padding);case"u":var day=d.getDay();return day==0?7:day;case"v":return _strftime(locale.formats.v||"%e-%b-%Y",d,locale);case"W":return pad(weekNumber(d,"monday"),padding);case"w":return d.getDay();case"Y":return d.getFullYear();case"y":var y=String(d.getFullYear());return y.slice(y.length-2);case"Z":if(options.utc){return"GMT"}else{var tz=d.toString().match(/\((\w+)\)/);return tz&&tz[1]||""}case"z":if(options.utc){return"+0000"}else{var off=typeof options.timezone=="number"?options.timezone:-d.getTimezoneOffset();return(off<0?"-":"+")+pad(Math.abs(off/60))+pad(off%60)}default:return c}})}function dateToUTC(d){var msDelta=(d.getTimezoneOffset()||0)*6e4;return new Date(d.getTime()+msDelta)}var RequiredDateMethods=["getTime","getTimezoneOffset","getDay","getDate","getMonth","getFullYear","getYear","getHours","getMinutes","getSeconds"];function quacksLikeDate(x){var i=0,n=RequiredDateMethods.length;for(i=0;i<n;++i){if(typeof x[RequiredDateMethods[i]]!="function"){return false}}return true}function pad(n,padding,length){if(typeof padding==="number"){length=padding;padding="0"}if(padding==null){padding="0"}length=length||2;var s=String(n);if(padding){while(s.length<length)s=padding+s}return s}function hours12(d){var hour=d.getHours();if(hour==0)hour=12;else if(hour>12)hour-=12;return hour}function ordinal(n){var i=n%10,ii=n%100;if(ii>=11&&ii<=13||i===0||i>=4){return"th"}switch(i){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function weekNumber(d,firstWeekday){firstWeekday=firstWeekday||"sunday";var wday=d.getDay();if(firstWeekday=="monday"){if(wday==0)wday=6;else wday--}var firstDayOfYear=new Date(d.getFullYear(),0,1),yday=(d-firstDayOfYear)/864e5,weekNum=(yday+7-wday)/7;return Math.floor(weekNum)}})()},{}],29:[function(require,module,exports){module.exports={name:"huginn-liquid",version:"0.0.1",description:"Port of Liquid.js to CoffeeScript",keywords:["Liquid","coffee-script"],author:"bruce davidson <brucedavidson@darkoverlordofdata.com>",contributors:[{name:"bruce davidson",email:"brucedavidson@darkoverlordofdata.com"}],dependencies:{strftime:"~0.7.0"},scripts:{start:"node ./index.js",test:"cake test"},bin:{},devDependencies:{chai:"*",mocha:"*",async:"*"},repository:"git://github.com/darkoverlordofdata/liquid.coffee",main:"index",engines:{node:">=0.10.x",npm:">=1.x.x"},license:"MIT"}},{}],30:[function(require,module,exports){},{}],31:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){if(ev.source===window&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],32:[function(require,module,exports){var process=require("__browserify_process");function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}},{__browserify_process:31}]},{},[1]);